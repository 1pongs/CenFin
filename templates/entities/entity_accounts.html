{% extends "base.html" %}
{% load humanize %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mt-3">
  <h2 class="mb-0">{{ entity.entity_name }}</h2>
  <div>
    <a href="{% url 'entities:edit' entity.pk %}" class="btn btn-sm btn-outline-primary me-2">Edit</a>
    <a href="{% url 'entities:delete' entity.pk %}" class="btn btn-sm btn-danger">Delete</a>
  </div>
</div>

<table class="table table-bordered mt-3">
  <thead>
     <tr><th>Account</th><th class="text-end">Balance</th></tr>
  </thead>
  <tbody>
  {% for a in accounts %}
    <tr>
      <td>{{ a.name }}</td>            
      <td class="text-end">{{ a.balance|floatformat:0|intcomma }}</td>
    </tr>
  {% empty %}
    <tr><td colspan="2" class="text-center">No accounts yet.</td></tr>
  {% endfor %}
  {% if accounts %}
    <tr class="fw-bold">
      <td>Total</td>
      <td class="text-end">{{ total_balance|floatformat:0|intcomma }}</td>
    </tr>
  {% endif %}
</tbody>
</table>
{% endblock %}
